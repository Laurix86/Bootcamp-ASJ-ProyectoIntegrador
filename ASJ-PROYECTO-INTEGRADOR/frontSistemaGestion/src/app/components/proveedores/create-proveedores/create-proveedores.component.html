<div class="row ">
    <div class="col-12 ">
        <h3>{{title}}</h3>
        <form #miForm="ngForm" (ngSubmit)="submitProveedor(miForm)">
            <!-- <input type="hidden" name="id" [(ngModel)]="provider.id"> -->
            <div class="row border-1 ">
        
                
            <div class="col-3 mb-3">
                <label class="form-label">Código</label>
                <input type="text" class="form-control" [readOnly]="(indexProv >=0)" placeholder="Código Proveedor" name="codigo" [(ngModel)]="provider.code" required minlength="3" #code="ngModel">
                <div *ngIf="code.errors?.['minlength']" class="col-auto">
                    <span class="form-text text-danger ">
                        Debe tener al menos 3 caracteres
                    </span>
                </div>
                <div *ngIf="code.errors?.['required'] " class="col-auto">
                    <span class="form-text text-danger">
                        El dato es obligatorio
                    </span>
                </div>
            </div>
            <div class="col-5 mb-3">
              <label class="form-label">Razón Social</label>
              <input type="text" class="form-control" placeholder="Razón Social" name="razonSocial" [(ngModel)]="provider.razonSocial" required minlength="3" #razonSocial="ngModel">
              <div *ngIf="razonSocial.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener al menos 3 caracteres
                  </span>
              </div>
              <div *ngIf="razonSocial.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>
            <div class="col-4 mb-3">
              <label class="form-label"for="rubro">Rubro</label>

              
                    <select class="form-select " name="rubro" id="rubro"  [(ngModel)]="provider.rubro"  (ngModelChange)="setRubro($event)" required >
                       
                        <option *ngFor="let item of rubroLista, index as i" value="{{item}}"  >{{item}}</option>
                      
                    </select>
             
            </div>
            </div>

            <div class="row border-1 ">
            <div class="col-5 mb-3">
              <label class="form-label">Sitio Web</label>
              <input type="text" class="form-control" placeholder="Sitio Web" name="sitioWeb" [(ngModel)]="provider.sitioWeb" required minlength="4" #sitioWeb="ngModel">
              <div *ngIf="sitioWeb.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="sitioWeb.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>
            <div class="col-4 mb-3">
              <label class="form-label">E-Mail</label>
              <input type="email" class="form-control" placeholder="email@email.com" name="email" [(ngModel)]="provider.email" required minlength="4" #email="ngModel">
              <div *ngIf="email.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="email.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>
            <div class="col-3 mb-3">
              <label class="form-label">Teléfono</label>
              <input type="text" class="form-control" placeholder="Número Telefónico" name="telefono" [(ngModel)]="provider.telefono" required minlength="4" #telefono="ngModel">
              <div *ngIf="telefono.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="telefono.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>

            </div>
            <div class="row border-1 ">
            
            <div class="col-3 mb-3">
              <label class="form-label">País</label>
              <input type="text" class="form-control" placeholder="País" name="pais" [(ngModel)]="provider.pais" required minlength="4" #pais="ngModel">
              <div *ngIf="pais.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="pais.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>
            <div class="col-2 mb-3">
              <label class="form-label">Provincia / Estado</label>
              <input type="text" class="form-control" placeholder="Provincia" name="provincia" [(ngModel)]="provider.provincia" required minlength="4" #provincia="ngModel">
              <div *ngIf="provincia.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="provincia.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>
            <div class="col-3 mb-3">
              <label class="form-label">Ciudad</label>
              <input type="text" class="form-control" placeholder="Ciudad" name="ciudad" [(ngModel)]="provider.ciudad" required minlength="4" #ciudad="ngModel">
              <div *ngIf="ciudad.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="ciudad.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            </div>
            <div class="col-3 mb-3">
                <label class="form-label">Dirección</label>
                <input type="text" class="form-control" placeholder="Calle" name="calle" [(ngModel)]="provider.calle" required minlength="4" #calle="ngModel">
                <div *ngIf="calle.errors?.['minlength']" class="col-auto">
                    <span class="form-text text-danger ">
                        Debe tener almenos 4 caracteres
                    </span>
                </div>
                <div *ngIf="calle.errors?.['required']" class="col-auto">
                    <span class="form-text text-danger">
                        El dato es obligatorio
                    </span>
                </div>
              </div>
              <div class="col-1 mb-3">
                <label class="form-label">Número</label>
                <input type="text" class="form-control" placeholder="altura" name="altura" [(ngModel)]="provider.altura" required minlength="4" #altura="ngModel">
                <div *ngIf="altura.errors?.['minlength']" class="col-auto">
                    <span class="form-text text-danger ">
                        Debe tener almenos 4 caracteres
                    </span>
                </div>
                <div *ngIf="altura.errors?.['required']" class="col-auto">
                    <span class="form-text text-danger">
                        El dato es obligatorio
                    </span>
                </div>
              </div>
            </div>
            <div class="row border-1 ">
            <h5>Situación Fiscal</h5>
            <div class="col-3 mb-3">
              <label class="form-label">C.U.I.T.</label>
              <input type="text" class="form-control" placeholder="Número de C.U.I.T." name="cuit" [(ngModel)]="provider.cuit" required minlength="4" #cuit="ngModel">
              <div *ngIf="cuit.errors?.['minlength']" class="col-auto">
                  <span class="form-text text-danger ">
                      Debe tener almenos 4 caracteres
                  </span>
              </div>
              <div *ngIf="cuit.errors?.['required']" class="col-auto">
                  <span class="form-text text-danger">
                      El dato es obligatorio
                  </span>
              </div>
            <!-- </div>
            <div class="mb-3"> -->
              <label class="form-label" for="condIva">Condición ante el IVA</label>
              <select class="form-select " name="condIVA" id="selectIva" [(ngModel)]="provider.condIVA" (ngModelChange)="checkIva($event)" required >
                <option value="respInsc">Responsable Inscripto</option>
                <option value="auton">Autónomo</option>
                <option value="monot">Monotributista</option>
                <option value="exc">Excento</option>
                <option value="consFin">Consumidor Final</option>
              </select>
              
            </div>
          
           <!--  </div>
            <div class="row border-1 "> -->
            <div class="col-9">

                <h5>Datos de Contacto</h5>
                <div class="row">
                <div class="col-12">

                <div class="row">
                <div class="col-5 mb-3">
                    <label class="form-label">Nombre</label>
                    <input type="text" class="form-control" placeholder="Nombre" name="nombre" [(ngModel)]="provider.nombre">
                </div>
                <div class="col-4 mb-3">
                <label class="form-label">Apellido</label>
                <input type="text" class="form-control" placeholder="Apellido" name="apellido" [(ngModel)]="provider.apellido">
                </div>
                <div class="col-3 mb-3">
                    <label class="form-label">Rol</label>
                    <input type="text" class="form-control" placeholder="Rol en la empresa" name="rolContacto" [(ngModel)]="provider.rolContacto">
                    </div>
            </div>
            <div class="row">
                <div class="col-6 mb-3">
                <label class="form-label">Teléfono de contacto</label>
                <input type="text" class="form-control" placeholder="Teléfono de contacto" name="teleContacto" [(ngModel)]="provider.teleContacto">
                </div>
                <div class="col-6 mb-3">
                <label class="form-label">E-Mail personal</label>
                <input type="text" class="form-control" placeholder="emailpersonal@email.com" name="mailContacto" [(ngModel)]="provider.mailContacto">
                </div>
                
           
            </div>


            </div>
            </div>

            </div>
        </div>
            <div class="row border-1 ">
                <div class="  flex-column-reverse ">
            <button type="submit" class="btn btn-success me-2" [disabled]="!miForm.valid">Guardar</button>
        </div>
        <div class="flex-column-reverse ">
            <button class="btn btn-warning " (click)="resetForm(miForm)">Limpiar</button>
        </div>
        </div>
        
        </form>
        <div *ngIf="msg" class="alert alert-success alert-dismissible fade show mt-4" role="alert">
            {{msg}}
            <button type="button" class="btn-close " data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    </div>
</div>
